import{s as G,f as k,a as I,g as y,h as S,d as m,c as L,j as d,i as U,w as g,H as B,x as $,v as T,y as V,l as z,m as F,n as J}from"../chunks/scheduler.2d1c82f4.js";import{e as A}from"../chunks/each.66af19a5.js";import{S as K,i as M}from"../chunks/index.bf293594.js";function w(n,t,l){const o=n.slice();return o[7]=t[l],o}function C(n,t,l){const o=n.slice();return o[10]=t[l],o}function D(n){let t,l,o,c,r=n[10]+"",_,f,p,b;function v(){return n[4](n[10])}return{c(){t=k("label"),l=k("input"),c=I(),_=z(r),f=I(),this.h()},l(u){t=y(u,"LABEL",{class:!0});var a=S(t);l=y(a,"INPUT",{type:!0,name:!0}),c=L(a),_=F(a,r),f=L(a),a.forEach(m),this.h()},h(){l.checked=o=n[0]===n[10],d(l,"type","radio"),d(l,"name","category"),l.value=n[10],d(t,"class","svelte-ygk5rp")},m(u,a){U(u,t,a),g(t,l),g(t,c),g(t,_),g(t,f),p||(b=$(l,"change",v),p=!0)},p(u,a){n=u,a&1&&o!==(o=n[0]===n[10])&&(l.checked=o)},d(u){u&&m(t),p=!1,b()}}}function H(n){let t,l=n[7].name+"",o;return{c(){t=k("li"),o=z(l)},l(c){t=y(c,"LI",{});var r=S(t);o=F(r,l),r.forEach(m)},m(c,r){U(c,t,r),g(t,o)},p(c,r){r&4&&l!==(l=c[7].name+"")&&J(o,l)},d(c){c&&m(t)}}}function O(n){let t,l,o,c,r,_,f,p,b,v,u=A(n[3]),a=[];for(let s=0;s<u.length;s+=1)a[s]=D(C(n,u,s));let E=A(n[2]),i=[];for(let s=0;s<E.length;s+=1)i[s]=H(w(n,E,s));return{c(){t=k("div"),l=k("span");for(let s=0;s<a.length;s+=1)a[s].c();o=I(),c=k("span"),r=k("input"),_=I(),f=k("span"),p=k("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){t=y(s,"DIV",{class:!0});var h=S(t);l=y(h,"SPAN",{class:!0});var e=S(l);for(let N=0;N<a.length;N+=1)a[N].l(e);e.forEach(m),o=L(h),c=y(h,"SPAN",{class:!0});var P=S(c);r=y(P,"INPUT",{type:!0,class:!0}),P.forEach(m),_=L(h),f=y(h,"SPAN",{class:!0});var j=S(f);p=y(j,"UL",{class:!0});var q=S(p);for(let N=0;N<i.length;N+=1)i[N].l(q);q.forEach(m),j.forEach(m),h.forEach(m),this.h()},h(){d(l,"class","svelte-ygk5rp"),d(r,"type","text"),d(r,"class","svelte-ygk5rp"),d(c,"class","svelte-ygk5rp"),d(p,"class","svelte-ygk5rp"),d(f,"class","svelte-ygk5rp"),d(t,"class","svelte-ygk5rp")},m(s,h){U(s,t,h),g(t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);g(t,o),g(t,c),g(c,r),B(r,n[1]),g(t,_),g(t,f),g(f,p);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(p,null);b||(v=$(r,"input",n[5]),b=!0)},p(s,[h]){if(h&9){u=A(s[3]);let e;for(e=0;e<u.length;e+=1){const P=C(s,u,e);a[e]?a[e].p(P,h):(a[e]=D(P),a[e].c(),a[e].m(l,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=u.length}if(h&2&&r.value!==s[1]&&B(r,s[1]),h&4){E=A(s[2]);let e;for(e=0;e<E.length;e+=1){const P=w(s,E,e);i[e]?i[e].p(P,h):(i[e]=H(P),i[e].c(),i[e].m(p,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=E.length}},i:T,o:T,d(s){s&&m(t),V(a,s),V(i,s),b=!1,v()}}}const Q="https://search-api.rankless.org:3039";function R(n,t,l){let o=["authors","institutions","sources","countries","subfields"],c=[],r=o[0],_="";function f(v,u){if(v.length<2)l(2,c=[]);else{let a=`${Q}/v1/names/${u}-names?q=${v}`;fetch(a).then(E=>{E.json().then(i=>{l(2,c=i)}).catch(i=>{console.error("error at",a,i)})})}}const p=v=>{l(0,r=v)};function b(){_=this.value,l(1,_)}return n.$$.update=()=>{n.$$.dirty&3&&f(_,r)},[r,_,c,o,p,b]}class Z extends K{constructor(t){super(),M(this,t,R,O,G,{})}}export{Z as component};
