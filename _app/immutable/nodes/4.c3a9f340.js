import{s as j,l as Y,m as x,i as k,n as z,v as P,d as I,o as D,p as B,f as y,a as R,e as C,g as v,h as Q,J as G,c as L,j as g,w as S,D as H}from"../chunks/scheduler.2d1c82f4.js";import{S as F,i as O,f as K,b as J,d as U,m as V,a as w,t as E,c as X,e as W,g as Z}from"../chunks/index.bf293594.js";import{I as $}from"../chunks/constants.8d8a1d0f.js";import{h as ee}from"../chunks/tree-functions.2607c0ac.js";import{i as te}from"../chunks/intro-inst-ids.8c3bb695.js";import{f as T,F as ne}from"../chunks/FullQc.3e255360.js";function se(s){let n;return{c(){n=Y(s[0])},l(e){n=x(e,s[0])},m(e,t){k(e,n,t)},p(e,[t]){t&1&&z(n,e[0])},i:P,o:P,d(e){e&&I(n)}}}function re(s,n,e){let{speed:t=150}=n,{stopAtEnd:i=300}=n,{texts:f=["one","two","hundred"]}=n,{wordInd:o=0}=n,d="",p;D(()=>{p=setInterval(m,t)});let c=0,_=1;function m(){o==f.length&&e(1,o=0);let a=f[o];e(0,d=a.slice(0,c)),c==a.length&&(clearInterval(p),setTimeout(()=>{p=setInterval(m,t)},i)),c+=_,c==a.length&&(_=-1),c==0&&(_=1,e(1,o=o+1))}return s.$$set=a=>{"speed"in a&&e(2,t=a.speed),"stopAtEnd"in a&&e(3,i=a.stopAtEnd),"texts"in a&&e(4,f=a.texts),"wordInd"in a&&e(1,o=a.wordInd)},[d,o,t,i,f]}class ae extends F{constructor(n){super(),O(this,n,re,se,j,{speed:2,stopAtEnd:3,texts:4,wordInd:1})}}function q(s){let n,e;return n=new ne({props:{startSentence:"",selectedQcRootId:s[1],defaultQcSpecId:s[0],rootType:s[4],fullQcSpecs:T,attributeLabels:s[2]}}),{c(){J(n.$$.fragment)},l(t){U(n.$$.fragment,t)},m(t,i){V(n,t,i),e=!0},p(t,i){const f={};i&2&&(f.selectedQcRootId=t[1]),i&1&&(f.defaultQcSpecId=t[0]),i&4&&(f.attributeLabels=t[2]),n.$set(f)},i(t){e||(w(n.$$.fragment,t),e=!0)},o(t){E(n.$$.fragment,t),e=!1},d(t){W(n,t)}}}function le(s){let n,e,t,i="explore",f,o,d,p,c,_=![s[1],s[4],s[2],T,s[0]].includes(void 0),m,a;function b(r){s[6](r)}let A={texts:s[5],speed:50};s[3]!==void 0&&(A.wordInd=s[3]),d=new ae({props:A}),B.push(()=>K(d,"wordInd",b));let l=_&&q(s);return{c(){n=y("div"),e=y("span"),t=y("span"),t.textContent=i,f=R(),o=y("span"),J(d.$$.fragment),c=R(),l&&l.c(),m=C(),this.h()},l(r){n=v(r,"DIV",{class:!0});var u=Q(n);e=v(u,"SPAN",{id:!0,class:!0});var h=Q(e);t=v(h,"SPAN",{id:!0,"data-svelte-h":!0}),G(t)!=="svelte-c8faoy"&&(t.textContent=i),f=L(h),o=v(h,"SPAN",{id:!0,class:!0});var N=Q(o);U(d.$$.fragment,N),N.forEach(I),h.forEach(I),u.forEach(I),c=L(r),l&&l.l(r),m=C(),this.h()},h(){g(t,"id","tw-1"),g(o,"id","tw-2"),g(o,"class","svelte-1xpkb21"),g(e,"id","tw-full"),g(e,"class","svelte-1xpkb21"),g(n,"class","svelte-1xpkb21")},m(r,u){k(r,n,u),S(n,e),S(e,t),S(e,f),S(e,o),V(d,o,null),k(r,c,u),l&&l.m(r,u),k(r,m,u),a=!0},p(r,[u]){const h={};!p&&u&8&&(p=!0,h.wordInd=r[3],H(()=>p=!1)),d.$set(h),u&7&&(_=![r[1],r[4],r[2],T,r[0]].includes(void 0)),_?l?(l.p(r,u),u&7&&w(l,1)):(l=q(r),l.c(),w(l,1),l.m(m.parentNode,m)):l&&(Z(),E(l,1,1,()=>{l=null}),X())},i(r){a||(w(d.$$.fragment,r),w(l),a=!0)},o(r){E(d.$$.fragment,r),E(l),a=!1},d(r){r&&(I(n),I(c),I(m)),W(d),l&&l.d(r)}}}function M(s){return s[Math.floor(Math.random()*s.length)]}function oe(s,n,e){let t,i,f=$,o;D(()=>{let _=M(te);ee(m=>{e(0,[t,o,i]=[M(Object.entries(T||{}).filter(([a,b])=>b.root_entity_type==f).map(([a,b])=>a)),m||{},_],t,e(2,o),e(1,i))})});let d=["topics","geographies","publications","relationships"],p=0;function c(_){p=_,e(3,p)}return[t,i,o,p,f,d,c]}class _e extends F{constructor(n){super(),O(this,n,oe,le,j,{})}}export{_e as component};
