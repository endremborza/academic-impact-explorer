import{s as G,f as y,a as I,g as k,h as S,d as m,c as L,j as g,i as U,w as d,H as w,x as H,v as B,y as T,l as $,m as F,n as J}from"../chunks/scheduler.2d1c82f4.js";import{e as A}from"../chunks/each.66af19a5.js";import{S as K,i as M}from"../chunks/index.bf293594.js";function V(n,t,l){const o=n.slice();return o[7]=t[l],o}function z(n,t,l){const o=n.slice();return o[10]=t[l],o}function C(n){let t,l,o,c,r=n[10]+"",_,f,p,b;function v(){return n[4](n[10])}return{c(){t=y("label"),l=y("input"),c=I(),_=$(r),f=I(),this.h()},l(u){t=k(u,"LABEL",{class:!0});var a=S(t);l=k(a,"INPUT",{type:!0,name:!0}),c=L(a),_=F(a,r),f=L(a),a.forEach(m),this.h()},h(){l.checked=o=n[0]===n[10],g(l,"type","radio"),g(l,"name","category"),l.value=n[10],g(t,"class","svelte-ygk5rp")},m(u,a){U(u,t,a),d(t,l),d(t,c),d(t,_),d(t,f),p||(b=H(l,"change",v),p=!0)},p(u,a){n=u,a&1&&o!==(o=n[0]===n[10])&&(l.checked=o)},d(u){u&&m(t),p=!1,b()}}}function D(n){let t,l=n[7].name+"",o;return{c(){t=y("li"),o=$(l)},l(c){t=k(c,"LI",{});var r=S(t);o=F(r,l),r.forEach(m)},m(c,r){U(c,t,r),d(t,o)},p(c,r){r&4&&l!==(l=c[7].name+"")&&J(o,l)},d(c){c&&m(t)}}}function O(n){let t,l,o,c,r,_,f,p,b,v,u=A(n[3]),a=[];for(let s=0;s<u.length;s+=1)a[s]=C(z(n,u,s));let E=A(n[2]),i=[];for(let s=0;s<E.length;s+=1)i[s]=D(V(n,E,s));return{c(){t=y("div"),l=y("span");for(let s=0;s<a.length;s+=1)a[s].c();o=I(),c=y("span"),r=y("input"),_=I(),f=y("span"),p=y("ul");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){t=k(s,"DIV",{class:!0});var h=S(t);l=k(h,"SPAN",{class:!0});var e=S(l);for(let N=0;N<a.length;N+=1)a[N].l(e);e.forEach(m),o=L(h),c=k(h,"SPAN",{class:!0});var P=S(c);r=k(P,"INPUT",{type:!0,class:!0}),P.forEach(m),_=L(h),f=k(h,"SPAN",{class:!0});var j=S(f);p=k(j,"UL",{class:!0});var q=S(p);for(let N=0;N<i.length;N+=1)i[N].l(q);q.forEach(m),j.forEach(m),h.forEach(m),this.h()},h(){g(l,"class","svelte-ygk5rp"),g(r,"type","text"),g(r,"class","svelte-ygk5rp"),g(c,"class","svelte-ygk5rp"),g(p,"class","svelte-ygk5rp"),g(f,"class","svelte-ygk5rp"),g(t,"class","svelte-ygk5rp")},m(s,h){U(s,t,h),d(t,l);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(l,null);d(t,o),d(t,c),d(c,r),w(r,n[1]),d(t,_),d(t,f),d(f,p);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(p,null);b||(v=H(r,"input",n[5]),b=!0)},p(s,[h]){if(h&9){u=A(s[3]);let e;for(e=0;e<u.length;e+=1){const P=z(s,u,e);a[e]?a[e].p(P,h):(a[e]=C(P),a[e].c(),a[e].m(l,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=u.length}if(h&2&&r.value!==s[1]&&w(r,s[1]),h&4){E=A(s[2]);let e;for(e=0;e<E.length;e+=1){const P=V(s,E,e);i[e]?i[e].p(P,h):(i[e]=D(P),i[e].c(),i[e].m(p,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=E.length}},i:B,o:B,d(s){s&&m(t),T(a,s),T(i,s),b=!1,v()}}}const Q="http://ec2-3-127-248-251.eu-central-1.compute.amazonaws.com:3039";function R(n,t,l){let o=["authors","institutions","sources","countries","subfields"],c=[],r=o[0],_="";function f(v,u){if(v.length<2)l(2,c=[]);else{let a=`${Q}/v1/names/${u}-names?q=${v}`;fetch(a).then(E=>{E.json().then(i=>{l(2,c=i)}).catch(i=>{console.error("error at",a,i)})})}}const p=v=>{l(0,r=v)};function b(){_=this.value,l(1,_)}return n.$$.update=()=>{n.$$.dirty&3&&f(_,r)},[r,_,c,o,p,b]}class Z extends K{constructor(t){super(),M(this,t,R,O,G,{})}}export{Z as component};
