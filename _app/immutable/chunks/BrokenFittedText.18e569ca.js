import{s as p,e as u,i as y,A as g,d as _,C as v,D as w,l as z,E as A,h as C,m as B,j as h,w as j,n as E}from"./scheduler.1836b3fe.js";import{e as m}from"./each.11058b4e.js";import{S as F,i as k}from"./index.7ef31ebf.js";import{a as q}from"./text-format-util.1eac41ca.js";function D(a){const t=Math.abs(a-.5)*2;return[a*250,t*220,255-a*250]}function I(a){return`rgb(${D(a).join(", ")})`}function x(a,t,r){const n=a.slice();return n[1]=t[r],n[7]=r,n}function d(a){let t,r=a[1]+"",n,l;return{c(){t=w("text"),n=z(r),this.h()},l(i){t=A(i,"text",{style:!0,"text-anchor":!0,class:!0});var e=C(t);n=B(e,r),e.forEach(_),this.h()},h(){h(t,"style",l=a[3](a[2],a[7])+";"),h(t,"text-anchor",a[0]),h(t,"class","svelte-y8d2kw")},m(i,e){y(i,t,e),j(t,n)},p(i,e){e&4&&r!==(r=i[1]+"")&&E(n,r),e&4&&l!==(l=i[3](i[2],i[7])+";")&&h(t,"style",l),e&1&&h(t,"text-anchor",i[0])},d(i){i&&_(t)}}}function L(a){let t,r=m(a[2].lines),n=[];for(let l=0;l<r.length;l+=1)n[l]=d(x(a,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=u()},l(l){for(let i=0;i<n.length;i+=1)n[i].l(l);t=u()},m(l,i){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(l,i);y(l,t,i)},p(l,[i]){if(i&13){r=m(l[2].lines);let e;for(e=0;e<r.length;e+=1){const o=x(l,r,e);n[e]?n[e].p(o,i):(n[e]=d(o),n[e].c(),n[e].m(t.parentNode,t))}for(;e<n.length;e+=1)n[e].d(1);n.length=r.length}},i:g,o:g,d(l){l&&_(t),v(n,l)}}}function M(a,t,r){let n,{text:l}=t,{width:i}=t,{height:e}=t,{anchor:o="left"}=t;function S(s,c){let f;return s.rotate?f=`--x: ${(c-s.lines.length+1)*s.fontSize*1.2+i}px; --y: 0px; --rot: -90deg; --rcx: ${(c+1)*s.fontSize*1.2}px; --rcy: 0px`:f=`--x: 0px; --y: ${(c-s.lines.length+1)*s.fontSize*1.2}px; --rot: 0deg; --rcx: 0px; --rcy: 0px`,`font-size: ${s.fontSize}px; `+f}return a.$$set=s=>{"text"in s&&r(1,l=s.text),"width"in s&&r(4,i=s.width),"height"in s&&r(5,e=s.height),"anchor"in s&&r(0,o=s.anchor)},a.$$.update=()=>{a.$$.dirty&50&&r(2,n=q(l||"",i,e))},[o,l,n,S,i,e]}class J extends F{constructor(t){super(),k(this,t,M,L,p,{text:1,width:4,height:5,anchor:0})}}export{J as B,I as a,D as g};
