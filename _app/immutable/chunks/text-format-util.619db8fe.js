function z(e){return e>1e6?`${(e/1e6).toFixed(1)}M`:e>1e3?`${(e/1e3).toFixed(1)}k`:e.toFixed(0)}function g(e,s,i,r=1.2,t=.7){const n=m(e,s,i,r,t),o=m(e,i,s,r,t);return n.fontSize>=o.fontSize?{rotate:!1,...n}:{rotate:!0,...o}}function m(e,s,i,r,t){let n=1,o=[e];const f=e.split(" ");let l,u,c,a=0;for(const h of Array(7)){if(l=o.reduce((x,L)=>Math.max(x,L.length),-1/0),u=s/(l*t),c=i/(n*r),a=Math.min(u,c),a>=i/((n+1)*r))return{lines:o,fontSize:a};if(o=d(f,e.length,n+1),n==o.length)break;n=o.length}return{lines:o,fontSize:a}}function d(e,s,i){const r=[];let t=[],n=0;const o=s/i*1.15;for(const f of e)n+=f.length+1,n>o&&t.length>0&&(r.push(t.join(" ")),t=[],n=f.length+1),t.push(f);return t.length>0&&r.push(t.join(" ")),r}export{g as a,z as f};
