function W(e,t=2){return e>1e6?`${(e/1e6).toFixed(Math.min(1,t))}M`:e>1e3?`${(e/1e3).toFixed(Math.min(1,t))}k`:e<1?e.toFixed(Math.min(2,t)):e<10?e.toFixed(t):e.toFixed(0)}function p(e,t,r,f,s,n,i,o,d){const c=z(e,t,r,f,s);let a=!1,{lines:l,fontSize:L}=c;if(d){const u=z(e,r,t,f,s);c.fontSize<u.fontSize&&(a=!0,l=u.lines,L=u.fontSize)}const g=[],h=L/n,m=l.length;let x=0;o||(x+=(r/h-(m+(m-1)*(f-1))*n)/2);for(const[u,S]of l.entries()){const I=(u-m+1)*f*n-x,T=i?0:-$(S.words)*s*n/2;let y=0;for(const k of S.words){const O=T+y*s*n;g.push(`translate(${O}px, ${I}px)`),y+=k.length+1}}return{translates:g,scale:h,rotate:a}}function z(e,t,r,f,s){let n=1;const i=$(e);let o=[{words:e,length:i}],d,c,a,l=0;for(const L of Array(7)){if(d=o.reduce((g,h)=>Math.max(g,h.length),-1/0),c=t/(d*s),a=B(r,f,n),l=Math.min(c,a),o.length==e.length||l>=B(r,f,n+1))return{lines:o,fontSize:l};if(o=P(e,i,n+1),n==o.length)break;n=o.length}return{lines:o,fontSize:l}}function P(e,t,r){const f=[];let s=[],n=0;const i=t/r*1.25;for(const o of e)n+=o.length+1,n>i&&s.length>0&&(f.push({words:s,length:n-o.length-2}),s=[],n=o.length+1),s.push(o);return s.length>0&&f.push({words:s,length:n-1}),f}function B(e,t,r){return e/(1+(r-1)*t)}function $(e){return e.reduce((t,r)=>t+r.length+1,0)-1}export{W as f,p as g};
